<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Epiroc Fleet Network Survey</title>
    <style>
        :root { --epiroc-yellow: #FFD700; --epiroc-blue: #003366; --bg: #f8f9fa; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); padding: 20px; }
        .survey-card { max-width: 650px; margin: auto; background: white; border-top: 8px solid var(--epiroc-yellow); border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .header { background: var(--epiroc-blue); color: white; padding: 25px; text-align: center; border-radius: 0 0 4px 4px; }
        .logo { font-size: 32px; font-weight: 900; color: var(--epiroc-yellow); margin-bottom: 5px; }
        form { padding: 30px; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; color: #333; }
        select, input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 15px; margin-bottom: 10px; }
        
        .button-group { display: flex; gap: 10px; margin-top: 25px; }
        .btn { flex: 1; color: white; border: none; padding: 15px; border-radius: 4px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-submit { background: var(--epiroc-blue); }
        .btn-submit:hover { background: #002244; }
        .btn-print { background: #6c757d; }
        .btn-print:hover { background: #5a6268; }

        /* PDF/Print Optimization */
        @media print {
            body { background: white; padding: 0; }
            .survey-card { box-shadow: none; border: none; max-width: 100%; }
            .button-group, .btn { display: none !important; }
            input, select { border: none !important; appearance: none; -webkit-appearance: none; color: black !important; }
        }
    </style>
</head>
<body>

<div class="survey-card">
    <div class="header">
        <div class="logo">Epiroc</div>
        <p>Automation Network Assessment Tool</p>
    </div>

    <form id="survey-form">
        <label for="customer">Customer Name</label>
        <select name="customer" id="customer" required>
            <option value="">-- Select Customer --</option>
            <option value="NMDC Ltd">NMDC Ltd</option>
            <option value="Tata Steel Ltd">Tata Steel Ltd</option>
            <option value="Adani Enterprises">Adani Enterprises</option>
        </select>

        <label for="site">Site Location</label>
        <select name="site" id="site" required disabled>
            <option value="">-- Select Site --</option>
        </select>

        <label for="mines">Mines / Deposit</label>
        <select name="mines" id="mines" required disabled>
            <option value="">-- Select Mines --</option>
        </select>

        <label for="wifi_type">WiFi Type</label>
        <select name="wifi_type" id="wifi_type">
            <option value="Wifi 2.4Ghz">Wifi 2.4Ghz</option>
            <option value="Wifi 5Ghz">Wifi 5Ghz</option>
            <option value="LTE_Private">Private LTE</option>
            <option value="Standard_AP">Standard AP</option>
            <option value="No WiFi">No WiFi Available at site</option>
        </select>        

        <label for="service_provider">Service Provider</label>
        <select name="service_provider" id="service_provider">
            <option value="Customer Owned">Customer Owned</option>
            <option value="FMS Provided">FMS Provided</option>
            <option value="LTE_Private">Private LTE</option>
            <option value="Standard_AP">Standard AP</option>
        </select>

        <label for="ip_config">IP Configuration</label>
        <input type="text" name="ip_config" id="ip_config" placeholder="e.g. 10.x.x.x" required>

        <label for="subnet_config">Subnet Configuration</label>
        <input type="text" name="subnet_config" id="subnet_config" placeholder="e.g. 255.255.255.0" required>

        <label for="gateway">Default Gateway</label>
        <input type="text" name="gateway" id="gateway" placeholder="e.g. 10.x.x.x" required>

        <label for="fleet_size">Fleet Size (Connected Machines)</label>
        <input type="number" name="fleet_size" id="fleet_size" required>

        <label for="security">Security Protocol</label>
        <select name="security" id="security">
            <option value="WPA2_Enterprise">WPA2 Enterprise</option>
            <option value="WPA2_PSK">WPA2 PSK</option>
            <option value="Open_VPN">Open + VPN</option>
        </select>

        <div class="button-group">
            <button type="submit" class="btn btn-submit">SUBMIT DATA</button>
            <button type="button" class="btn btn-print" onclick="window.print()">PRINT TO PDF</button>
        </div>
    </form>
</div>

<script>
    const dataModel = {
        "NMDC Ltd": {
            "Bacheli": ["Deposit5", "Deposit10"],
            "Kirandul": ["Deposit11", "Deposit11A", "Deposit14"]
        },
        "Tata Steel Ltd": {
            "Noamundi": ["Main Mine", "Western Block"],
            "Joda": ["East", "West"]
        },
        "Adani Enterprises": {
            "Parsa": ["Block A", "Block B"],
            "Kente": ["Main Pit"]
        }
    };

    const customerSelect = document.getElementById('customer');
    const siteSelect = document.getElementById('site');
    const minesSelect = document.getElementById('mines');

    customerSelect.addEventListener('change', function() {
        siteSelect.innerHTML = '<option value="">-- Select Site --</option>';
        minesSelect.innerHTML = '<option value="">-- Select Mines --</option>';
        minesSelect.disabled = true;

        if (this.value && dataModel[this.value]) {
            siteSelect.disabled = false;
            Object.keys(dataModel[this.value]).forEach(site => {
                let opt = document.createElement('option');
                opt.value = site; opt.innerHTML = site;
                siteSelect.appendChild(opt);
            });
        } else {
            siteSelect.disabled = true;
        }
    });

    siteSelect.addEventListener('change', function() {
        minesSelect.innerHTML = '<option value="">-- Select Mines --</option>';
        const selectedCustomer = customerSelect.value;
        if (this.value && dataModel[selectedCustomer][this.value]) {
            minesSelect.disabled = false;
            dataModel[selectedCustomer][this.value].forEach(mine => {
                let opt = document.createElement('option');
                opt.value = mine; opt.innerHTML = mine;
                minesSelect.appendChild(opt);
            });
        } else {
            minesSelect.disabled = true;
        }
    });

    const form = document.getElementById('survey-form');
    form.addEventListener('submit', e => {
        e.preventDefault();
        const scriptURL = 'YOUR_GOOGLE_SCRIPT_URL_HERE';
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => alert('Success! Survey Logged.'))
            .catch(error => console.error('Error!', error.message));
    });
</script>

</body>
</html>